(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,a){t.exports=a(49)},27:function(t,e,a){},30:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(19),r=a.n(o),c=(a(27),a(9)),i=a.n(c),l=a(20),u=a(2),d=a(3),p=a(5),m=a(4),h=a(6),f=(a(30),function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"heading"},s.a.createElement("h1",null,"Todo App written in React"))}}]),e}(n.Component)),k=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={taskDescription:"",date:"",errorMessage:""},a.inputBoxChanged=function(t){a.setState({taskDescription:t.target.value})},a.addTaskClicked=function(t){if(""===a.state.date)a.setState({errorMessage:"Please Enter Date"});else if(""!==a.state.taskDescription){var e=a.state.date,n=a.state.taskDescription.charAt(0).toUpperCase()+a.state.taskDescription.slice(1);a.props.buttonHandlerFunction(n,e),a.refs.textInput.value="",a.setState({taskDescription:"",date:""})}},a.handleDateChange=function(t){var e=t.target.value;a.setState({date:e,errorMessage:""})},a}return Object(h.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"todoinput col text-center"},s.a.createElement("input",{type:"text",ref:"textInput",placeholder:"Add task here",onChange:this.inputBoxChanged,className:"form-control todoInput"}),s.a.createElement("label",{form:"dateInput"},"Done By Date\xa0"),s.a.createElement("input",{id:"dateInput",type:"date",onChange:this.handleDateChange,value:this.state.date}),s.a.createElement("button",{type:"submit",onClick:this.addTaskClicked,className:"btn btn-primary addbutton"},"ADD TO LIST")),s.a.createElement("h2",{className:"centered red"},this.state.errorMessage))}}]),e}(n.Component),b=a(7),v=a.n(b),g=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).textCol=function(){return a.props.task.done?"green normalSize":"black normalSize"},a}return Object(h.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this,e=v()(),a=v()(this.props.task.date).isBefore(e);return s.a.createElement("div",{className:"row "},s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-8 todoText"},s.a.createElement("div",{id:this.props.taskId},s.a.createElement("span",{className:a?"overdue xsmall":"xsmall"},v()(this.props.task.date).format("Do MMM YYYY")),s.a.createElement("span",null,"  "),s.a.createElement("span",{className:this.textCol()},this.props.task.description))),s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 buttonDiv"},!this.props.task.done&&s.a.createElement("button",{type:"button",onClick:function(){return t.props.doneFunction(t.props.task.taskid)},className:"btn btn-success buttona","data-toggle":"tooltip","data-placement":"bottom",title:"Marks the task as done"},"Done"),s.a.createElement("button",{type:"button",onClick:function(){return t.props.deleteFunction(t.props.task.taskid)},className:"btn btn-danger buttona","data-toggle":"tooltip","data-placement":"bottom",title:"Deletes the task"},"Delete")))}}]),e}(n.Component),O=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"bottom"},s.a.createElement("p",null,"\xa9 Simon Cobb 2019"))}}]),e}(n.Component),y=function(t){function e(){return Object(u.a)(this,e),Object(p.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:"col text-center"},s.a.createElement("div",{className:"btn btn-primary notifications"},"Number of items in the list ",s.a.createElement("span",{className:"badge badge-light"},this.props.numOfTasks)))}}]),e}(n.Component),E=a(8),j=a.n(E),w=function(t){function e(){var t,a;Object(u.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={tasks:[],qtyOfTasks:0,isLoaded:!1},a.componentDidMount=function(){a.getTasks()},a.sort=function(t){if(t.length<2)return t;do{var e=a.sortPass(t)}while(1===e);return t},a.sortPass=function(t){var e=0,a=t.length-1;do{if(v()(t[a].date).isBefore(v()(t[a-1].date))){e=1;var n=t[a],s=t[a-1];t[a]=s,t[a-1]=n}a--}while(a>0);return e},a.Done=function(t){var e=a.state.tasks.map(function(e,a){return e.taskid===t&&(e.done=!0),e});a.setState({tasks:e}),a.dbDoneUpdate(t)},a.dbDoneUpdate=function(t){var e="https://f8nibhiadf.execute-api.eu-west-2.amazonaws.com/dev/tasks/"+t.toString();j.a.put(e).then(function(t){}).catch(function(t){console.log(t)})},a.Deleted=function(t){var e=a.state.tasks.filter(function(e){return t!==e.taskid});a.dbDelete(t),a.setState({tasks:e})},a.dbDelete=function(t){var e="https://f8nibhiadf.execute-api.eu-west-2.amazonaws.com/dev/tasks/"+t.toString();j.a.delete(e).then(function(t){}).catch(function(t){console.log(t)})},a.addTask=function(t,e){var n,s={description:t,done:!1,userid:1,date:e};(n=a.state.tasks.slice()).unshift(s),j.a.post("https://f8nibhiadf.execute-api.eu-west-2.amazonaws.com/dev/tasks",s).then(function(t){n[0].taskid=t.data.taskId,n=a.sort(n),a.setState({tasks:n})}).catch(function(t){console.log(t)})},a}return Object(h.a)(e,t),Object(d.a)(e,[{key:"getTasks",value:function(){var t=Object(l.a)(i.a.mark(function t(){var e,a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("https://f8nibhiadf.execute-api.eu-west-2.amazonaws.com/dev/tasks");case 2:e=t.sent,a=e.data,this.setState({tasks:this.sort(a.tasks),isLoaded:!0});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"container mainstyle"},s.a.createElement(f,null),s.a.createElement(k,{buttonHandlerFunction:this.addTask,numOfTasks:this.state.qtyOfTasks}),this.state.isLoaded?s.a.createElement("div",{className:"mainList"},this.state.tasks.map(function(e,a){return s.a.createElement(g,{key:e.taskid,task:e,doneFunction:t.Done,deleteFunction:t.Deleted,numOfTasks:t.state.qtyOfTasks})}),s.a.createElement(y,{qtyOfTasksFunction:this.qtyOfTasks,numOfTasks:this.state.tasks.length})):"Fetching Tasks",s.a.createElement(O,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.d58c98d4.chunk.js.map